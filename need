我们将创建一个最简版的Vite，仅支持开发服务器和基本的模块解析。核心功能包括：

创建一个HTTP服务器，用于提供静态文件和服务JavaScript模块。

实现ES模块的解析和转换，特别是对node_modules中的包进行解析。

支持Vue单文件组件（SFC）的解析（如果不需要可以去掉，但Vite最初以Vue出名，这里保留作为可选核心功能）。

实现热模块替换（HMR）的基础结构，但可能不实现完整HMR（因为精简版）。

步骤：

初始化项目，安装最小依赖。

创建开发服务器，处理静态文件请求。

实现模块解析器，能够将导入的npm包解析为正确的路径。

实现中间件，对JavaScript请求进行转换，将裸模块（bare imports）转换为相对路径。

实现Vue单文件组件的转换（可选）。

实现简单的HMR（可选）。

下面我们开始写代码。

注意：由于是精简版，我们将尽量简化，不处理太多边界情况。

我们将使用Koa作为服务器框架，因为Vite早期版本使用Koa。

项目结构：

src/

server/ # 服务器相关代码

middleware/ # 中间件

utils/ # 工具函数

compiler/ # 编译器（如Vue编译器）